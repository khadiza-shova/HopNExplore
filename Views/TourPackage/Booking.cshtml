@model HopNExplore.Models.TourPackage

<div class="min-h-screen bg-black text-white">
    <!-- Header -->
    <div class="p-6">
        <a href="/TourPackage">

            <button onclick="goBack()"
                class="flex items-center gap-2 text-gray-300 hover:text-white transition-colors duration-200 mb-8">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M10 19l-7-7m0 0l7-7m0 0v14" />
                </svg>
                <span>Back to Tour Packages</span>
            </button>
        </a>

        <div class="text-center animate-fade-in">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">Confirm Your Booking</h1>
            <p class="text-gray-400 text-lg max-w-2xl mx-auto">
                Please fill out your details to finalize your adventure with HopNExplore.
            </p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="max-w-4xl mx-auto px-6 pb-12">
        <div class="bg-gray-800 rounded-2xl p-8 shadow-2xl animate-slide-in">
            <h2 class="text-2xl font-bold text-white mb-2">Booking Summary</h2>
            <p class="text-gray-400 mb-8">Review your selected tour and provide your contact information.</p>

            <!-- Tour Summary -->
            <div class="grid md:grid-cols-2 gap-8 mb-8 pb-8 border-b border-gray-700">
                <div>
                    <h3 class="text-sm text-gray-400 mb-2">Tour Name</h3>
                    <p class="text-lg font-semibold text-white">@Model.TourName</p>
                </div>
                <div>
                    <h3 class="text-sm text-gray-400 mb-2">Duration</h3>
                    <p class="text-lg font-semibold text-white">@Model.Days</p>
                </div>
                <div>
                    <h3 class="text-sm text-gray-400 mb-2">Price</h3>
                    <p class="text-lg font-semibold text-white">BDT @Model.Price (per person)</p>
                </div>
                <div>
                    <h3 class="text-sm text-gray-400 mb-2">Number of Travelers</h3>
                    <p class="text-lg font-semibold text-white">10 Adults</p>
                </div>
            </div>

            <!-- Booking Form -->
            <form asp-controller="Booking" asp-action="AddSubmitted" method="post" class="space-y-6">
                <!-- Package Id -->
                <div>
                    <label for="fullName" class="block text-sm font-medium text-gray-300 mb-2">Package Id</label>
                    <input type="text" value="@Model.Id" name="TourPackageId" type="hidden"
                        class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-all duration-200"
                        >
                </div>

                @* Full Name  *@
                <div>
                    <label for="fullName" class="block text-sm font-medium text-gray-300 mb-2">Full Name</label>
                    <input type="text" id="Name" name="Name" value=""
                        class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-all duration-200"
                        required>
                </div>

                <!-- Email and Phone -->
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-300 mb-2">Email Address</label>
                        <input type="email" id="email" name="Email" value=""
                            class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-all duration-200"
                            required>
                    </div>
                    <div>
                        <label for="phone" class="block text-sm font-medium text-gray-300 mb-2">Phone Number</label>
                        <input type="tel" id="phone" name="Phone" value=""
                            class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-all duration-200"
                            required>
                    </div>
                </div>

                <!-- Address -->
                <div>
                    <label for="address" class="block text-sm font-medium text-gray-300 mb-2">Address</label>
                    <input type="text" id="address" name="Address" @* value="123 Main St, Anytown, USA" *@
                        class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-all duration-200"
                        required>
                </div>

                <!-- Number of Travelers and Preferred Dates -->
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <label for="travelers" class="block text-sm font-medium text-gray-300 mb-2">Number of
                            Travelers</label>
                        <select id="travelers" name="NumberOfTravelers"
                            class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-all duration-200"
                            required>
                            <option value="1">1</option>
                            <option value="2" selected>2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6+">6+</option>
                        </select>
                    </div>
                    <div>
                        <label for="preferredDate" class="block text-sm font-medium text-gray-300 mb-2">Preferred
                            Dates</label>
                        <input type="date" id="preferredDate" name="PreferredDate"
                            class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-all duration-200"
                            required>
                    </div>
                </div>

                <!-- Special Requests -->
                <div>
                    <label for="specialRequests" class="block text-sm font-medium text-gray-300 mb-2">Special
                        Requests</label>
                    <textarea id="specialRequests" name="SpecialRequests" rows="4"
                        placeholder="Any special requests or dietary needs?"
                        class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-all duration-200 resize-none"></textarea>
                </div>

                <!-- Terms and Conditions -->
                @* <div class="flex items-start gap-3 pt-4">
                    <input type="checkbox" id="terms" name="terms"
                        class="w-5 h-5 bg-gray-700 border-gray-600 rounded focus:ring-red-500 focus:ring-2 text-red-600 mt-0.5"
                        required>
                    <label for="terms" class="text-sm text-gray-300 leading-relaxed">
                        I agree to the <a href="#" class="text-red-400 hover:text-red-300 underline">Terms &
                            Conditions</a>
                    </label>
                </div> *@

                <!-- Submit Button -->
                <div class="pt-6">
                    <button type="submit"
                        class="w-full md:w-auto bg-red-600 hover:bg-red-700 text-white font-semibold py-4 px-8 rounded-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-gray-800 flex items-center justify-center gap-2">
                        <span>Confirm Booking</span>
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                        </svg>
                    </button>
                </div>
            </form>
        </div>

        <!-- Additional Info -->
        <div class="mt-8 text-center">
            <p class="text-gray-500 text-sm">
                By confirming your booking, you'll receive a confirmation email with detailed itinerary and payment
                instructions.
            </p>
        </div>
    </div>

    <!-- Loading Modal -->
    <div id="loadingModal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div class="bg-gray-800 rounded-2xl p-8 text-center max-w-md mx-4">
            <div class="animate-spin rounded-full h-16 w-16 border-b-2 border-red-500 mx-auto mb-4"></div>
            <h3 class="text-xl font-semibold text-white mb-2">Processing Your Booking</h3>
            <p class="text-gray-400">Please wait while we confirm your adventure...</p>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div class="bg-gray-800 rounded-2xl p-8 text-center max-w-md mx-4">
            <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
            </div>
            <h3 class="text-xl font-semibold text-white mb-2">Booking Confirmed!</h3>
            <p class="text-gray-400 mb-6">Your adventure is confirmed. Check your email for details.</p>
            <button onclick="closeSuccessModal()"
                class="bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors duration-200">
                Close
            </button>
        </div>
    </div>
</div>
@* <script>
        // Set minimum date to today
        document.addEventListener('DOMContentLoaded', function() {
            const dateInput = document.getElementById('preferredDate');
            const today = new Date().toISOString().split('T')[0];
            dateInput.min = today;
            
            // Set default date to 1 month from now
            const nextMonth = new Date();
            nextMonth.setMonth(nextMonth.getMonth() + 1);
            dateInput.value = nextMonth.toISOString().split('T')[0];
        });

        function goBack() {
            window.history.back();
        }

        function showLoadingModal() {
            document.getElementById('loadingModal').classList.remove('hidden');
        }

        function hideLoadingModal() {
            document.getElementById('loadingModal').classList.add('hidden');
        }

        function showSuccessModal() {
            document.getElementById('successModal').classList.remove('hidden');
        }

        function closeSuccessModal() {
            document.getElementById('successModal').classList.add('hidden');
            // Optionally redirect to a confirmation page
            // window.location.href = '/booking-confirmation';
        }

        // Form submission handler
        document.getElementById('bookingForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Show loading modal
            showLoadingModal();
            
            // Simulate booking process
            setTimeout(() => {
                hideLoadingModal();
                showSuccessModal();
            }, 3000);
        });

        // Form validation and enhancement
        const inputs = document.querySelectorAll('input, select, textarea');
        inputs.forEach(input => {
            input.addEventListener('focus', function() {
                this.parentElement.classList.add('focused');
            });
            
            input.addEventListener('blur', function() {
                if (!this.value && !this.hasAttribute('required')) {
                    this.parentElement.classList.remove('focused');
                }
            });
        });

        // Dynamic pricing calculation
        document.getElementById('travelers').addEventListener('change', function() {
            const travelers = parseInt(this.value) || 1;
            const pricePerPerson = 1850;
            const totalPrice = travelers * pricePerPerson;
            
            // Update the price display (you can add this functionality)
            console.log(`Total price for ${travelers} travelers: $${totalPrice.toLocaleString()}`);
        });
    </script> *@
